<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default itinerary">
            <div class="panel-body">
                <route-candidate-leg each="{ routeCandidate.get('legs') }" leg="{ this }" get_location="{ parent.context.get_location }"></route-candidate-leg>
                <p>&nbsp;</p>
                <div class="row">
                    <div class="col-md-12">
                        <a href="#"
                           class="btn btn-success assign-cargo-btn" onclick="{ onAssignCargo }">Assign to Cargo</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    function (context) {
        var self = this;
        self.context = context;
        self.routeCandidate = context.routecandidate;

        self.onAssignCargo = function(e) {
            e.preventDefault();

            context.trigger_event('assign_route_candidate_to_cargo', self.routeCandidate);

            context.route_to('');
        }
    }
</script>